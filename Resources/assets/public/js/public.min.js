!function(e){var t=e(".accordion > div.content").hide();e(".accordion > dt > a").click(function(){return t.slideUp(),e(this).parent().next().slideDown(),!1})}(jQuery),function(O){"use strict";O(function(){if(O("#cb2-actionbar").length){var w,k,x,C,j=[],c=O("#cb2-actionbar"),s=(O(".cb2-calendar"),O("#cb2-actionbar-placer"));O.fn.updateClass=function(e){O(this).closest("li").addClass(e),O(this).attr("checked",!0)},O("#bb-submit-button").click(function(e){O("#cb2-booking-form").submit(),window.console&&console.log("submitted"),e.preventDefault()}),O(window).on("load resize scroll",function(e){var t=s.offset().top,i=s.offset().left,n=s.width(),o=O(window).scrollTop()+O(window).height(),a=t+c.height()+50;c.css({width:n,opacity:1}),a<=o?c.css({position:"relative",left:0}):c.css({position:"fixed",bottom:5,left:i})}),S(),O(".cb2-selectable > .cb2-details").click(function(o){var e=O(this).closest(".cb2-selection-container"),t=O(this).children(".cb2-periodinst-selector"),i=O(o.target),n=i.is(t),a=i.attr("id"),c=!0,s=[];if(n){-1!==O.inArray(a,j)?j.splice(O.inArray(a,j),1):j.push(a);var l=O("#"+j.join(",#"));if(1<l.length){var r,d,b,p=e.find(".cb2-selectable, .cb2-not-includable"),u=l.first(),f=l.last(),h=cb2_settings.bookingoptions_max_period_usage,g=cb2_settings.bookingoptions_min_period_usage;l=O.merge(u,f),s=p.slice(p.index(u.closest("li"))+1,p.index(f.closest("li"))),u.attr("properties")&&f.attr("properties")&&(d=JSON.parse(u.attr("properties")),b=JSON.parse(f.attr("properties")),window.console&&console.log(d,b),d&&b&&(d.period_entity.ID!=b.period_entity.ID?(D(cb2_settings.bookingbartemplates_notice_across_timeframes?cb2_settings.bookingbartemplates_notice_across_timeframes:"across timeframes:"+d.period_entity.ID+" =&gt; "+b.period_entity.ID),c=!1):(h=d.period_entity.max_period_usage,g=d.period_entity.min_period_usage))),c&&s.each(function(e,t){if(O(t).hasClass("cb2-not-includable")){c=!1,r=1;for(var i=0;i<l.length;i++){var n=l[i];-1!==a.indexOf(n.id)&&l.splice(i,1)}o.preventDefault()}}),r&&D(cb2_settings.bookingbartemplates_notice_non_includable?cb2_settings.bookingbartemplates_notice_non_includable:"Cannot book across these slots")}if(c&&l.length+s.length>h){window.console&&console.info("exceeded max period usage of ["+h+"]");var m=cb2_settings.bookingbartemplates_notice_max_slots.replace(/{{max-slots}}/g,h);D(cb2_settings.bookingbartemplates_notice_max_slots?m:"Maximum bookable slots: "+h,h),c=!1;for(var _=0;_<l.length;_++){var v=l[_];-1!==a.indexOf(v.id)&&l.splice(_,1)}o.preventDefault()}if(c&&l.length+s.length<g){for(window.console&&console.info("exceeded min period usage of ["+g+"]"),D(cb2_settings.bookingbartemplates_notice_min_slots?cb2_settings.bookingbartemplates_notice_min_slots:"Minimum bookable slots: "+g,g),c=!1,_=0;_<l.length;_++)v=l[_],-1!==a.indexOf(v.id)&&l.splice(_,1);o.preventDefault()}if(!0===c){S(),l.attr("checked",!0);var y=l.closest("li");y.addClass("cb2-selected"),1===y.length?y.addClass("selection-single"):(y.first().addClass("selection-first"),y.last().addClass("selection-last")),s.length&&s.addClass("cb2-range-selected selection-middle"),w=l.first().parents(".cb2-details").find(".cb2-period-start").text(),k=l.last().parents(".cb2-details").find(".cb2-period-end").text(),x=l.first().parents("li.cb2_day").children(".cb2-day-title").text(),C=l.last().parents("li.cb2_day").children(".cb2-day-title").text()}else o.preventDefault();w?(O("#bb-intro").css("opacity",0),O("#bb-selection").animate({opacity:1},400),O("#bb-pickup-date").text(x),O("#bb-pickup-time").text(w),O("#bb-return-date").text(C),O("#bb-return-time").text(k)):(O("#bb-intro").animate({opacity:1},400),O("#bb-selection").css("opacity",0)),j=[],l.each(function(){j.push(this.id)})}o.stopPropagation()})}function D(e){var t=Array.prototype.slice.call(arguments);t.shift(),O("<li>"+e.format.apply(e,t)+"</li>").appendTo("#bb-error").addClass("animated shake").delay(4e3).queue(function(){O(this).remove()})}function S(){O(".cb2-periodinst-selector").removeAttr("checked"),O(".cb2_prdinst-tf ").removeClass("cb2-selected cb2-range-selected selection-first selection-middle selection-last ")}})}(jQuery),function(d){"use strict";d(function(){d(document).ready(function(){d(".cb2-selector").click(function(){var e={},t=d(this).find(".cb2-selector-value");d(this).hasClass("cb2-selector-value")&&(t=t.andSelf()),t.length&&(t.each(function(){e[d(this).attr("name")]=d(this).val()}),d(this).closest(".cb2-selection-container").find(".cb2-selected").removeClass("cb2-selected"),d(this).addClass("cb2-selected"),window.console&&console.log(e),d(this).trigger("cb2-selected",e))}),d(document).on("cb2-selected",function(e,r){d(".cb2-listen-on").each(function(){var e,i=this,t={},n={},o=d(this).find(":input[name=listen-to-fields]").val(),a=o?o.split(","):{};if(o&&"all"!=o&&a.length){for(var c=0;c<a.length;c++)e=a[c],r[e]&&(n[e]=r[e]);r=n,window.console&&console.log(r)}for(var s in d(this).children(":input").each(function(){t[d(this).attr("name")]=d(this).val()}),t=jQuery.extend(t,r))t[s]||delete t[s];window.console&&console.log(this,t,r),t.action||(t.action="cb2_ajax_shortcode");var l=t["ajax-url"];l?(d(this).addClass("cb2-refreshing"),d.post(l,t,function(e){var t=d(e).children();d(i).replaceWith(t),geo_hcard_map_init()})):window.console&&console.error("jsObject has no ajax URL for CB2 container ["+shortcodeId+"]")})}),0<d("li.cb2-template-popup-item").length&&d("li.cb2-template-popup-item").each(function(){console.log("bound"),console.log(d(this)),d(this).on("click",function(){console.log(d(this)),d(this).find("a").attr("href")})}),window.cb2={},cb2.calendarStyles=function(){d(".cb2-calendar-grouped").length<1||(450<=d(".cb2-calendar-grouped").outerWidth()?d(".cb2-calendar-grouped").addClass("cb2-calendar-grouped-large"):d(".cb2-calendar-grouped").removeClass("cb2-calendar-grouped-large"))},cb2.calendarTooltips=function(){d(".cb2-calendar-grouped").length<1||d('.cb2-slot[data-state="allow-booking"] ').parents("li.cb2-date").each(function(e,t){var i=document.createElement("div");i.id=d(t).attr("id");var n="<div><ul>";d(t).find('[data-state="allow-booking"]').each(function(e,t){n+="<li>",d(t).attr("data-item-thumbnail")&&(n+='<img src="'+d(t).attr("data-item-thumbnail")+'">'),n+='<a href="'+d(t).attr("data-item-thumbnail")+'">',n+=d(t).attr("data-item-title"),n+="</a></li>"}),n+="</ul></div>",i.innerHTML=n,tippy("#"+i.id,{appendTo:document.querySelector(".cb2-calendar-grouped"),arrow:!0,html:i,interactive:!0,theme:"cb2-calendar",trigger:"click"})})},cb2.init=function(){cb2.calendarStyles(),cb2.calendarTooltips()},cb2.resize=function(){cb2.calendarStyles()},cb2.init(),d(window).on("resize",cb2.resize)})})}(jQuery),String.prototype.format||(String.prototype.format=function(){var i=arguments;return this.replace(/{(\d+)}/g,function(e,t){return void 0!==i[t]?i[t]:e})}),function(t){"use strict";t(function(){t(".request-confirmation").on("click",function(e){return confirm(t(this).data("confirmationstring"))})})}(jQuery);