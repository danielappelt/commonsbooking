!function($){"use strict";$(function(){const arrayDiff=function(array1,array2){var newItems=[];return jQuery.grep(array2,function(i){-1==jQuery.inArray(i,array1)&&newItems.push(i)}),newItems},hideFieldset=function(set){$.each(set,function(){$(this).parents(".cmb-row").hide()})},showFieldset=function(set){$.each(set,function(){$(this).parents(".cmb-row").show()})};if($("#cmb2-metabox-cb_timeframe-custom-fields").length){const typeInput=$("#timeframe-repetition"),startDateInput=$("#start-date_date"),startDateTimeInput=$("#start-date_time"),endDateInput=$("#end-date_date"),endDateTimeInput=$("#end-date_time"),gridInput=$("#grid"),weekdaysInput=$("#weekdays1"),startTimeInput=$("#start-time"),endTimeInput=$("#end-time"),repConfigTitle=$("#title-timeframe-rep-config"),repetitionStartInput=$("#repetition-start"),repetitionEndInput=$("#repetition-end"),fullDayInput=$("#full-day"),repSet=[repConfigTitle,fullDayInput,startTimeInput,endTimeInput,weekdaysInput,repetitionStartInput,repetitionEndInput,gridInput],noRepSet=[fullDayInput,startDateInput,startDateTimeInput,endDateInput,endDateTimeInput,gridInput],repTimeFieldsSet=[gridInput,startTimeInput,endTimeInput],noRepTimeFieldsSet=[startDateTimeInput,endDateTimeInput],showRepFields=function(){showFieldset(repSet),hideFieldset(arrayDiff(repSet,noRepSet))},showNoRepFields=function(){showFieldset(noRepSet),hideFieldset(arrayDiff(noRepSet,repSet))},uncheck=function(checkboxes){$.each(checkboxes,function(){$(this).prop("checked",!1)})},updateTimeSelectionHandlers=function(){startTimeInput.change(function(){startDateTimeInput.val($(this).val())}),endTimeInput.change(function(){endDateTimeInput.val($(this).val())}),repetitionStartInput.change(function(){startDateInput.val($(this).val())}),repetitionEndInput.change(function(){endDateInput.val($(this).val())})};updateTimeSelectionHandlers();const handleFullDaySelection=function(){const selectedRep=$("option:selected",typeInput).val();var set;fullDayInput.prop("checked")?(gridInput.prop("selected",!1),hideFieldset(repTimeFieldsSet),set=noRepTimeFieldsSet,$.each(set,function(){$(this).hide()})):"norep"==selectedRep?(!function(set){$.each(set,function(){$(this).show()})}(noRepTimeFieldsSet),showFieldset([gridInput])):showFieldset(repTimeFieldsSet)};handleFullDaySelection(),fullDayInput.change(function(){handleFullDaySelection()});const handleRepetitionSelection=function(){const selectedType=$("option:selected",typeInput).val();selectedType?("norep"==selectedType?showNoRepFields():showRepFields(),"w"==selectedType?weekdaysInput.parents(".cmb-row").show():(weekdaysInput.parents(".cmb-row").hide(),uncheck($("input[name*=weekdays]"))),handleFullDaySelection(),updateTimeSelectionHandlers()):(hideFieldset(noRepSet),hideFieldset(repSet))};handleRepetitionSelection(),typeInput.change(function(){handleRepetitionSelection()})}})}(jQuery);