!function($){"use strict";$(function(){const arrayDiff=function(array1,array2){var newItems=[];return jQuery.grep(array2,function(i){-1==jQuery.inArray(i,array1)&&newItems.push(i)}),newItems},hideFieldset=function(set){$.each(set,function(){$(this).parents(".cmb-row").hide()})},showFieldset=function(set){$.each(set,function(){console.log($(this).parents(".cmb-row")),$(this).parents(".cmb-row").show()})};if($("#cmb2-metabox-cb_timeframe-custom-fields").length){const typeInput=$("#timeframe-repetition"),startDateInput=$("#start-date_date"),startDateTimeInput=$("#start-date_time"),endDateInput=$("#end-date_date"),endDateTimeInput=$("#end-date_time"),gridInput=$("#grid"),repetitionInput=$("#repetition"),weekdaysInput=$("#weekdays1"),startTimeInput=$("#start-time"),endTimeInput=$("#end-time"),repConfigTitle=$("#title-timeframe-rep-config"),repetitionStartInput=$("#repetition-start"),repetitionEndInput=$("#repetition-end"),fullDayInput=$("#full-day"),repSet=[repConfigTitle,fullDayInput,startTimeInput,endTimeInput,repetitionInput,weekdaysInput,repetitionStartInput,repetitionEndInput,gridInput],noRepSet=[fullDayInput,startDateInput,startDateTimeInput,endDateInput,endDateTimeInput,gridInput],showRepFields=function(){showFieldset(repSet),hideFieldset(arrayDiff(repSet,noRepSet))},showNoRepFields=function(){showFieldset(noRepSet),hideFieldset(arrayDiff(noRepSet,repSet))},updateTimeSelectionHandlers=function(){startTimeInput.change(function(){startDateTimeInput.val($(this).val())}),endTimeInput.change(function(){endDateTimeInput.val($(this).val())}),repetitionStartInput.change(function(){startDateInput.val($(this).val())}),repetitionEndInput.change(function(){endDateInput.val($(this).val())})},updateFullDayHandler=function(){fullDayInput.prop("checked")?(gridInput.prop("selected",!1),gridInput.parents(".cmb-row ").hide(),startTimeInput.parents(".cmb-row ").hide(),endTimeInput.parents(".cmb-row ").hide()):(gridInput.parents(".cmb-row ").show(),startTimeInput.parents(".cmb-row ").show(),endTimeInput.parents(".cmb-row ").show()),fullDayInput.change(function(){$(this).prop("checked")?(gridInput.prop("selected",!1),gridInput.parents(".cmb-row ").hide(),startTimeInput.parents(".cmb-row ").hide(),endTimeInput.parents(".cmb-row ").hide()):(gridInput.parents(".cmb-row ").show(),startTimeInput.parents(".cmb-row ").show(),endTimeInput.parents(".cmb-row ").show())})},uncheck=function(checkboxes){$.each(checkboxes,function(){$(this).prop("checked",!1)})},updateRepetitionHandler=function(){const selectedRep=$("option:selected",repetitionInput).val();console.log(selectedRep),"w"==selectedRep?weekdaysInput.parents(".cmb-row").show():(weekdaysInput.parents(".cmb-row").hide(),uncheck($("input[name*=weekdays]"))),repetitionInput.change(function(){"w"==$("option:selected",$(this)).val()?weekdaysInput.parents(".cmb-row").show():(weekdaysInput.parents(".cmb-row").hide(),uncheck($("input[name*=weekdays]")))})},initTypeSpecificHandlers=function(){updateTimeSelectionHandlers(),updateFullDayHandler(),updateRepetitionHandler()};(function(){const selectedType=$("option:selected",typeInput).val();"rep"==selectedType&&showRepFields(),"norep"==selectedType&&showNoRepFields(),typeInput.change(function(e){const selectedType=e.target.options[e.target.selectedIndex].value;"rep"==selectedType&&showRepFields(),"norep"==selectedType&&showNoRepFields(),updateFullDayHandler(),updateRepetitionHandler()}),initTypeSpecificHandlers()})()}})}(jQuery);